# 仪表板构建参考

## 前置条件

- 用户已确认目标角色（项目经理、开发、产品、管理层）
- 用户已确认关键指标（进度、质量、效率等）
- 用户已确认项目范围

## 标准仪表板模板

### 项目经理仪表板

**目标**：项目进度概览、风险识别、资源分配

| Gadget | 配置 | 说明 |
|--------|------|------|
| 任务统计 | 按状态分组 | 展示 Issue 状态分布 |
| Sprint 燃尽图 | 当前 Sprint | 追踪 Sprint 进度 |
| 速度报表 | 近 6 个 Sprint | 预测未来容量 |
| Epic 进度 | 按 Epic 分组 | 追踪 Epic 完成情况 |
| 分配情况 | 按分配人 | 资源分配概览 |

**布局**：
```
┌─────────────────┬─────────────────┐
│   任务统计     │  Epic 进度    │
├─────────────────┼─────────────────┤
│ Sprint 燃尽图   │   速度报表     │
├─────────────────┴─────────────────┤
│      分配情况                │
└───────────────────────────────────┘
```

### 开发团队仪表板

**目标**：我的任务、代码审查队列、Bug 列表

| Gadget | 配置 | 说明 |
|--------|------|------|
| 我的活动任务 | 按状态分组 | 展示当前负责的任务 |
| 代码审查队列 | 状态 = In Review | 待审查代码清单 |
| 分配给我的 Bug | 优先级排序 | 需修复的 Bug |
| 近期创建 | 最近 7 天 | 新任务提醒 |
| 我的速度报表 | 个人统计 | 个人完成速度 |

**布局**：
```
┌─────────────────┬─────────────────┐
│  我的活动任务   │  代码审查队列  │
├─────────────────┼─────────────────┤
│ 分配给我的 Bug  │  近期创建      │
├─────────────────┴─────────────────┤
│      我的速度报表           │
└───────────────────────────────────┘
```

### 产品经理仪表板

**目标**：产品路线图、功能发布状态、用户反馈

| Gadget | 配置 | 说明 |
|--------|------|------|
| 产品路线图 | 时间线视图 | Epic 和版本规划 |
| 发布状态 | 按版本分组 | 功能发布追踪 |
| 用户反馈统计 | 按来源分组 | 反馈渠道分析 |
| Bug 趋势 | 按时间 | Bug 数量变化 |
| 功能完成度 | 按 Epic | 版本功能完成情况 |

**布局**：
```
┌──────────────────────┐
│    产品路线图        │
├───────────┬────────┤
│ 发布状态  │ Bug趋势│
├───────────┴────────┤
│   功能完成度       │
├─────────────────────┤
│   用户反馈统计     │
└─────────────────────┘
```

### 管理层仪表板

**目标**：跨项目状态、资源利用率、KPI 追踪

| Gadget | 配置 | 说明 |
|--------|------|------|
| 跨项目概览 | 按项目分组 | 所有项目状态 |
| 团队资源利用率 | 按团队分组 | 资源使用情况 |
| 项目健康度 | 风险指标 | 项目风险评分 |
| KPI 追踪 | 自定义指标 | 关键绩效指标 |
| 里程碑追踪 | 按时间 | 重要里程碑 |

**布局**：
```
┌─────────────────┬─────────────────┐
│   跨项目概览   │  团队资源利用率 │
├─────────────────┼─────────────────┤
│   项目健康度    │   KPI 追踪     │
├─────────────────┴─────────────────┤
│      里程碑追踪            │
└───────────────────────────────────┘
```

## 常用 Gadget 配置

### 任务统计 Gadget

**用途**：展示 Issue 状态分布

```json
{
  "gadget": "filterstats",
  "title": "任务统计",
  "filter": "project = PROJ AND issuetype in (Story, Task)",
  "groupBy": "status",
  "statType": "count"
}
```

**配置选项**：
- **分组字段**：status, priority, assignee, issuetype
- **统计类型**：count, timespent, timeestimate

### Sprint 燃尽图 Gadget

**用途**：追踪 Sprint 进度

```json
{
  "gadget": "sprintburndown",
  "title": "Sprint 燃尽图",
  "rapidViewId": 1,
  "sprintId": 123
}
```

**配置选项**：
- **度量单位**：故事点、工时
- **显示理想线**：开启/关闭
- **显示范围变化**：开启/关闭

### Epic 进度 Gadget

**用途**：追踪 Epic 完成情况

```json
{
  "gadget": "epicprogress",
  "title": "Epic 进度",
  "filter": "project = PROJ AND issuetype = Epic",
  "groupBy": "status"
}
```

**配置选项**：
- **进度计算**：基于 Story 完成度、基于子任务完成度
- **显示百分比**：开启/关闭

### 速度报表 Gadget

**用途**：预测未来容量

```json
{
  "gadget": "velocitychart",
  "title": "速度报表",
  "rapidViewId": 1,
  "sprintCount": 6
}
```

**配置选项**：
- **Sprint 数量**：显示最近 N 个 Sprint
- **统计方式**：基于故事点、基于 Issue 数量

## 配置步骤

### 1. 创建仪表板

使用 MCP 工具：`jira_create_dashboard`

```json
{
  "name": "项目经理仪表板",
  "description": "项目进度概览、风险识别、资源分配",
  "permission": "private"
}
```

### 2. 添加 Gadget

使用 MCP 工具：`jira_add_gadget`

```json
{
  "dashboard_id": 12345,
  "gadget": "filterstats",
  "title": "任务统计",
  "position": { "col": 0, "row": 0, "width": 1, "height": 1 },
  "config": {
    "filter": "project = PROJ",
    "groupBy": "status"
  }
}
```

### 3. 分享仪表板

使用 MCP 工具：`jira_share_dashboard`

```json
{
  "dashboard_id": 12345,
  "share_type": "group",
  "group_name": "Developers"
}
```

## 验证检查

- [ ] Gadget 配置正确
- [ ] 数据源（Filter/Sprint）存在
- [ ] 布局合理，无重叠
- [ ] 权限配置正确（私有/共享）
- [ ] 数据刷新正常
- [ ] 移动端显示正常

## 最佳实践

1. **目标导向**：每个仪表板服务于特定角色和目标
2. **简洁明了**：避免 Gadget 过多，保持界面简洁
3. **实时更新**：Gadget 数据定期刷新，确保数据最新
4. **移动端适配**：考虑移动端显示效果
5. **权限合理**：敏感仪表板设为私有，公开仪表板共享给团队
6. **定期优化**：根据用户反馈定期优化仪表板配置
